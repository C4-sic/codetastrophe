#summary Features and usage of the django-motd app
#labels Featured,Phase-Deploy,django,django-motd

= Introduction =

django-motd is a simple app for displaying site-wide messages to users on log in. The most common case would be displaying a notice of a planned maintenance window or new feature.

= Features =

  * Messages have a start and end date/time
  * Messages can be disabled in the admin interface if they have not expired
  * Multiple messages can be active at one time

= Installing =

  * Add django_motd to your INSTALLED_APPS setting
  * Run `manage.py syncdb`
  * Add `(r'^motd/$', 'django_motd.views.motd'),` to your urlpatterns
  * In your login template, change
{{{
<input type="hidden" name="next" value="{{ next }}" />
}}}
  to
  {{{
<input type="hidden" name="next" value="{% url django_motd.views.motd %}?next={{ next }}" />
}}}
  * Modify or override the `motd/messages.html` template, since the default one may not be appropriate for your site

= Usage =

Create a new !MotdMessage in the admin interface. The start/end times assume your database is returning times in UTC. If you're using PostgreSQL with `settings.TIME_ZONE` set to something other than UTC, this may not be the case. The motd view will display any messages if the current UTC time is within range and the message is enabled. If there are no active messages, the view will just redirect straight to the value of the redirect field from the login page. Your messages.html template should either display a link to the next page (the default template does this), include a meta refresh tag to automatically redirect after a period of time, or both.